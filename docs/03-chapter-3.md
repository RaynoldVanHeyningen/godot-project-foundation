# Chapter 3: Version Control with Git & Godot

## Goal

The goal of this chapter is to integrate Git into our Godot project workflow. Version control is an indispensable tool in professional game development, offering robust history tracking, collaborative capabilities, and a safety net for your entire project. We will configure Git specifically for Godot projects, ensuring that unnecessary files are ignored and only relevant changes are tracked.

## Concept Explanation: What is Version Control and Why Git?

**Version Control Systems (VCS)** are software tools that help a team of software developers manage changes to source code over time. While primarily for code, they are incredibly useful for *any* type of file, including game assets.

Imagine you're working on a document. You save different versions: `document_v1.docx`, `document_v2_final.docx`, `document_v3_final_final.docx`. This quickly becomes messy and unmanageable. A VCS solves this by:

*   **Tracking Changes**: Records every modification made to your files, who made it, and when.
*   **History**: Allows you to look back at any point in your project's history, compare changes, and revert to previous versions if needed.
*   **Collaboration**: Enables multiple people to work on the same project simultaneously without overwriting each other's work, providing tools to merge changes.
*   **Backup**: Your project's history is stored on a remote server (like GitHub, GitLab, Bitbucket), acting as an off-site backup.

**Git** is the most widely used modern VCS. It's a distributed VCS, meaning every developer has a complete copy of the repository, making it robust and efficient. While there are other VCS options, Git has become the industry standard due to its flexibility, speed, and widespread tooling support.

### Why Git is Essential for a AAA Mindset Project:

*   **Safety Net**: Accidental deletions or corruptions are no longer catastrophic; you can always revert.
*   **Teamwork**: Essential for multiple developers to work on the same Godot project without constant communication about file locking.
*   **Experimentation**: Allows you to create separate "branches" to experiment with new features without affecting the main project, merging them back only when ready.
*   **Auditing**: Provides a clear history of who changed what, which is invaluable for debugging and accountability.

## Architectural Reasoning: Ignoring Godot-Specific Files

Godot projects generate several temporary or user-specific files that should **not** be tracked by Git. These files are either:

*   **Machine-specific**: Contain paths or settings unique to your local machine.
*   **Automatically generated**: Can be regenerated by Godot from other files (e.g., `.import` files).
*   **Temporary**: Cache files or build artifacts.

Tracking these files causes several problems:

*   **Merge Conflicts**: They frequently change, leading to unnecessary conflicts when merging branches.
*   **Repository Bloat**: They can be large and change often, unnecessarily increasing the size of your repository.
*   **Inconsistency**: Different team members might have different local settings, leading to "noise" in the commit history.

The solution is a `.gitignore` file, which tells Git which files and directories to intentionally ignore.

## Production Mindset Notes: Git Workflow Basics

A typical Git workflow involves these steps:

1.  **Initialize Repository**: Start Git tracking for your project.
2.  **Make Changes**: Work on your code, scenes, and assets.
3.  **Stage Changes**: Select the specific changes you want to include in your next commit.
4.  **Commit Changes**: Record the staged changes to your local history with a descriptive message.
5.  **Push Changes**: Upload your local commits to a remote repository (e.g., GitHub) to share them with your team and create a backup.
6.  **Pull Changes**: Download updates from the remote repository that other team members have pushed.

For this chapter, we'll focus on initializing and setting up the `.gitignore` locally. Subsequent chapters will implicitly encourage committing your work.

## Step-by-Step Instructions: Setting up Git for Your Godot Project

We'll assume you have Git installed on your system. If not, please install it from [git-scm.com](https://git-scm.com/).

### 1. Initialize a Git Repository

1.  **Open your project in a Terminal/Command Prompt**: Navigate to your `AAA_Blueprint_Course` project root directory using your system's terminal or command prompt.
    *   *Tip for Godot*: You can often right-click `res://` in the FileSystem dock and choose "Open in File Manager" to quickly get to your project root.
2.  **Initialize Git**: Type the following command and press Enter:
    ```bash
    git init
    ```
    You should see a message like `Initialized empty Git repository in /path/to/your/project/.git/`. This creates a hidden `.git` folder in your project, which is where Git stores all its tracking information.

### 2. Create and Configure the `.gitignore` File

Now, let's create a `.gitignore` file specifically tailored for Godot projects.

1.  **Create `.gitignore`**: In your project's root directory (the same place where the `.git` folder was created), create a new file named `.gitignore`. Make sure it's exactly `.gitignore` (with the leading dot and no file extension). You can do this from your terminal or a text editor.
    *   *Using Terminal (Linux/macOS)*: `touch .gitignore`
    *   *Using Terminal (Windows)*: `type NUL > .gitignore`
    *   *Using Godot*: You can technically create a new script, save it as `.gitignore` in the root, and then delete its contents, but it's often easier directly in your OS file explorer or terminal.
2.  **Add Godot-Specific Ignore Rules**: Open the `.gitignore` file with a text editor and paste the following content. This is a common and robust `.gitignore` for Godot 4 projects.

    ```gitignore
    # Godot-specific ignores
    .godot/
    *.import
    *.translation
    
    # User-specific settings
    .vscode/
    .idea/
    
    # Build artifacts and caches
    export/
    build/
    *.exe
    *.zip
    *.pck
    *.apk
    
    # OS generated files
    .DS_Store
    .directory
    Thumbs.db
    
    # Optional: Ignore all asset import meta files (if you regenerate them on build)
    # This is generally NOT recommended for teams as it can lead to conflicts,
    # but some solo developers prefer it. Leave commented out unless you know why.
    # *.import
    ```

    *   **`.godot/`**: This directory contains Godot's internal cache, build files, and editor settings. It's automatically regenerated and should never be committed.
    *   **`*.import`**: These are meta-files generated by Godot for every imported asset. While sometimes useful to track for consistency across machines, they frequently cause merge conflicts. For simpler projects or solo developers, ignoring them can reduce friction. For larger teams, you might consider tracking them and being diligent about merging. For this course, we'll ignore them to keep things simple.
    *   **`*.translation`**: Generated translation files.
    *   **Other ignores**: Common IDE folders (`.vscode/`, `.idea/`), build output (`export/`, `build/`, executables, packages), and OS-specific files (`.DS_Store`, `Thumbs.db`).

3.  **Save the `.gitignore` file**.

### 3. Make Your Initial Commit

Now that Git is initialized and configured to ignore unwanted files, let's make our first commit.

1.  **Stage all project files**: In your terminal, type:
    ```bash
    git add .
    ```
    The `.` tells Git to stage all changes in the current directory (your project root). Git will automatically respect the `.gitignore` file and only stage the relevant files.
2.  **Commit the staged files**: Now, commit these changes with a descriptive message:
    ```bash
    git commit -m "Initial project setup with Godot 4.5 and core folder structure"
    ```
    You should see output indicating that many files (your `Main.tscn`, `project.godot`, and all the folders you created) have been added to the repository.

### 4. Verify Ignored Files

To confirm that `.godot/` and other ignored files are not being tracked:

1.  Create a temporary file inside the `.godot/` folder (e.g., `touch .godot/temp.txt`).
2.  Run `git status` in your terminal. You should *not* see `temp.txt` listed as an untracked file.
3.  If you *do* see it, double-check your `.gitignore` file for typos.

## Consistency Check

You now have a Godot project under version control, with a `.gitignore` file configured to prevent unnecessary files from cluttering your repository. This is a crucial step towards a professional, maintainable, and collaborative project. From this point forward, remember to regularly `git add .` and `git commit -m "Your descriptive message"` as you make significant changes.

In the next chapter, we'll dive into Godot's fundamental building block: the Node, and explore how to effectively use Node composition.